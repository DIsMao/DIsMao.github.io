<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="lec6.files/filelist.xml">
<title>Лекция 6. Электронная почта. Формат сообщения. Протоколы SMTP и POP3 .</title>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>BestFit</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.head, li.head, div.head
	{mso-style-name:head;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.headlab, li.headlab, div.headlab
	{mso-style-name:headlab;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.target, li.target, div.target
	{mso-style-name:target;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.head2, li.head2, div.head2
	{mso-style-name:head2;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.paragraf, li.paragraf, div.paragraf
	{mso-style-name:paragraf;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=RU link=blue vlink=blue style='tab-interval:35.4pt'>

<div class=Section1>

<div>

<div>

<p class=headlab align=center style='text-align:center'><b><span
style='font-size:16.0pt;color:red'>Лекция 6</span></b></p>

<p class=head2 align=center style='text-align:center'><b><u><span
style='font-size:16.0pt;color:blue'>Электронная почта</span></u></b></p>

<p class=paragraf>Служба <b>электронная почта</b> &nbsp;- предназначена для
обмена сообщениями (письмами). </p>

<p class=paragraf><b>Клиент </b>(<span lang=EN-US style='mso-ansi-language:
EN-US'>MS</span><span lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:
EN-US'>Outlook</span>, <span lang=EN-US style='mso-ansi-language:EN-US'>The</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>bat</span>
...) готовит (&quot;упаковывает&quot;) и посылает &nbsp;<span class=GramE>серверу
(по</span>чтовое отделение) сообщения, принимает и просматривает сообщения.</p>

<p class=paragraf><b>Сервер электронной почты</b> (<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Sendmail</span></span>, <span
lang=EN-US style='mso-ansi-language:EN-US'>MS</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Exchange</span> ...) обрабатывает
сообщения (сортирует) и отправляет локальному адресату или удаленному серверу
(почтовому отделению).</p>

<p class=paragraf><b><span style='color:blue'>Основные протоколы:</span></b></p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='mso-ansi-language:EN-US'>SMTP</span><span lang=EN-US> </span>-
используется для <b>отправки</b> почты, </p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='mso-ansi-language:EN-US'>POP</span>3 (<span class=SpellE>Post</span>
<span class=SpellE>Office</span> <span class=SpellE>Protocol</span>) -
используется для <b>приема</b> почты клиентом с сервера.</p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='mso-ansi-language:EN-US'>IMAP</span> 4 (<span lang=EN-US
style='mso-ansi-language:EN-US'>Internet</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Message</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Access</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Protocol</span>) - позволяет
клиентам получать доступ и манипулировать сообщениями электронной почты на
сервере</p>

<b><u><span style='font-size:12.0pt;font-family:"Times New Roman";mso-fareast-font-family:
"Times New Roman";color:blue;mso-ansi-language:RU;mso-fareast-language:RU;
mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span></u></b>

<p class=head2><b><u><span style='color:blue'>Формат сообщения.</span></u></b></p>

<p class=paragraf>Текстовая (<span lang=EN-US style='mso-ansi-language:EN-US'>ASCII</span>)
информация может передаваться, как есть.</p>

<p class=paragraf>Остальная информация должна быть закодирована, т.к.
изначально не предполагалось ее передавать. При использовании расширения
протокола <span lang=EN-US style='mso-ansi-language:EN-US'>SMTP</span> - <span
lang=EN-US style='mso-ansi-language:EN-US'>ESMTP</span> (<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Enhaced</span></span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>SMTP</span>)
можно кодировать в 8-битном виде. Это все выполняет почтовая программа.</p>

<p class=paragraf>Сообщение состоит <span class=GramE>из</span>:</p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>конверта
сообщения (информация для доставки и обработки сообщения)</p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>тела сообщения
(данные отправителя)</p>

<p class=paragraf><b><u>Структура почтового сообщения <span class=SpellE><span
class=GramE>сообщения</span></span>:</u></b></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'>1.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
lang=EN-US style='mso-ansi-language:EN-US'>From</span> <span class=GramE>- <i><span
style='font-weight:normal'>&nbsp;адрес</span></i></span></b><i> отправителя, в
т.ч. реального -&nbsp; </i><b><span lang=EN-US style='mso-ansi-language:EN-US'>Sender</span></b></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'>2.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>&nbsp;адрес
получателя</i><b> – </b><b><span lang=EN-US style='mso-ansi-language:EN-US'>To</span>;
</b><b><span lang=EN-US style='mso-ansi-language:EN-US'>Cc</span></b>- адреса
получателей копий сообщений</p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'>3.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>&nbsp;тема
сообщения</i><b> &nbsp;- </b><b><span lang=EN-US style='mso-ansi-language:EN-US'>Subject</span></b></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'>4.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>&nbsp;тип и
версия почтовой программы клиента</i><b> &nbsp;- </b><b><span lang=EN-US
style='mso-ansi-language:EN-US'>X</span>-</b><b><span lang=EN-US
style='mso-ansi-language:EN-US'>Mailer</span></b></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'>5.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>&nbsp;дата
отправки сообщения –</i><b> </b><b><span lang=EN-US style='mso-ansi-language:
EN-US'>Date</span></b></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'>6.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>адрес для
ответа</i><b> &nbsp;- </b><b><span lang=EN-US style='mso-ansi-language:EN-US'>Reply</span>-</b><b><span
lang=EN-US style='mso-ansi-language:EN-US'>To</span></b></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'><span
lang=EN-US style='mso-ansi-language:EN-US'>7.</span><span lang=EN-US
style='font-size:7.0pt;mso-ansi-language:EN-US'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i><span
lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;</span><span class=GramE>идентификатор</span></i><i><span
style='mso-ansi-language:EN-US'> </span>типа</i><i><span style='mso-ansi-language:
EN-US'> </span>кодировки</i><i><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;
- </span></i><b><span lang=EN-US style='mso-ansi-language:EN-US'>Content-Transfer-Encoding</span></b><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'>8.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i><span
lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;</span>уникальный
идентификатор сообщения</i><b> &nbsp;- </b><b><span lang=EN-US
style='mso-ansi-language:EN-US'>Message</span>-</b><b><span lang=EN-US
style='mso-ansi-language:EN-US'>ID</span></b></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'><i>9.</i><i><span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>комментарии<b>
&nbsp;- </b></i><b><span lang=EN-US style='mso-ansi-language:EN-US'>Comments</span></b><i><span
lang=EN-US> </span></i></p>

<p class=paragraf style='margin-left:39.0pt;text-indent:-18.0pt'><b>10.</b><b><span
style='font-size:7.0pt'>&nbsp; </span></b><i>список прикрепленных файлов </i><i><span
lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;</span>- </i><b><span
lang=EN-US style='mso-ansi-language:EN-US'>Files</span></b></p>

<p class=paragraf style='margin-top:5.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:39.0pt;text-indent:-18.0pt'>11.<span style='font-size:7.0pt'>&nbsp;
</span><i>Тело сообщения (текст сообщения)</i></p>

<p class=paragraf><b><u>Ретрансляция сообщений</u></b></p>

<p class=paragraf>Можно использовать промежуточные сервера для доставки почты
получателю. Когда основной сервер не доступен, почта передается на резервный, когда
основной сервер становится доступен, резервный передает почту основному.</p>

<p class=paragraf><b style='mso-bidi-font-weight:normal'><span
style='color:blue'>&nbsp;Протокол </span></b><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='color:blue;mso-ansi-language:EN-US'>SMTP</span><span
style='color:blue'><o:p></o:p></span></b></p>

<p class=paragraf><span class=SpellE>Simple</span> <span class=SpellE>Mail</span>
<span class=SpellE>Transfer</span> <span class=SpellE>Protocol</span> -
протокол высокого уровня (а именно, уровня приложений), используется для <b>отправки</b>
почты, как клиентом на сервер, так и сервером на другой сервер.</p>

<p class=paragraf>Порт по умолчанию - 25.</p>

<p class=paragraf>Основной недостаток протокола, это отсутств<span class=GramE>ие
ау</span>тентификации и &quot;<span class=SpellE>докачки</span>&quot; (как в <span
lang=EN-US style='mso-ansi-language:EN-US'>FTP</span>, <span lang=EN-US
style='mso-ansi-language:EN-US'>HTTP</span>) сообщений, т.е. если вы посылаете
большое письмо (10Мбайт), то в случае разрыва соединения ваше сообщение
придется передавать заново, и возможно так до бесконечности. Поэтому большие
письма необходимо резать на части.</p>

<p class=paragraf>&nbsp;<b><u>Некоторые коды ответов SMTP</u></b></p>

<p class=paragraf>Каждая цифра в коде ответа имеет определенный смысл. Первая
цифра означает, было ли выполнение команды успешно (2), неуспешно (5) или еще
не закончилось (3). </p>

<p class=paragraf>&nbsp;<b><u><span style='color:blue'>&nbsp;Протокол POP3</span></u></b></p>

<p class=paragraf><span class=SpellE><b>Post</b></span><b> <span class=SpellE>Office</span>
<span class=SpellE>Protocol</span> (POP)</b> - протокол доставки почты
пользователю из почтового его ящика своего почтового сервера РОР. Когда почта
пришла на сервер (по SMTP), она раскладывается по почтовым ящикам. Чтобы
забрать почту из ящика <span class=GramE>нужен</span> POP.</p>

<p class=paragraf>Порт по умолчанию - 110.</p>

<p class=paragraf>Пользователь может получить доступ к <span class=SpellE>РОР-серверу</span>
из любой точки доступа <span class=GramE>к</span> Интернет.</p>

<p class=paragraf><b><u>Принцип работы POP</u></b></p>

<p class=paragraf>В протоколе РОРЗ оговорены три стадии процесса получения
почты: </p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Авторизация:
клиент идентифицирует себя для сервера</p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Транзакция:
передача</p>

<p class=paragraf style='margin-left:36.0pt;text-indent:-18.0pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>обновление
(завершение транзакции)</p>

<p class=head2><b><u><span style='color:blue'>Протокол </span></u></b><b><u><span
lang=EN-US style='color:blue;mso-ansi-language:EN-US'>IMAP</span><span
style='color:blue'>4</span></u></b></p>

<p class=paragraf>Протокол <b>IMAP4 (<span class=SpellE>Internet</span> <span
class=SpellE>Message</span> <span class=SpellE>Access</span> <span
class=SpellE>Protocol</span>)</b> позволяет клиентам получать доступ и
манипулировать сообщениями электронной почты на сервере. Был разработан для
замены POP3.</p>

<p class=paragraf>Порт по умолчанию - 143.</p>

<p class=paragraf>В отличи<span class=GramE>и</span> от POP3 позволяет клиенту
манипулировать сообщениями на сервере.</p>

<p class=paragraf><b><u>Принцип работы IMAP</u></b></p>

<p class=paragraf>Каждая команда клиента начинается с идентификатора или тега
команды, <span class=GramE>состоящую</span> из букв и цифр. </p>

<p class=paragraf>Взаимодействие клиента сервером не строится по принципу
&quot;<b>запрос-ответ</b>&quot;. Клиент может отправить новую команду на
сервера не дожидаясь ответа <span class=GramE>на</span> предыдущую.</p>

</div>

</div>

</div>

</body>

</html>
